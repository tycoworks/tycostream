# Global enum definitions
enums:
  user_rank:
    - bronze
    - silver
    - gold
    - platinum

sources:
  # First source - covers string, boolean, time, and json types
  users:
    primary_key: user_id
    columns:
      user_id: Integer
      name: String
      email: String
      active: Boolean
      rank: user_rank  # Enum field
      created_at: Timestamp
      updated_at: Timestamp
      metadata: JSON

  # Table for testing triggers with score threshold
  user_scores:
    primary_key: user_id
    columns:
      user_id: Integer
      score: Integer
      active: Boolean

  # Comprehensive test table with ALL PostgreSQL types
  all_types:
    primary_key: id
    columns:
      id: Integer
      # Boolean
      bool_val: Boolean
      # Numeric types
      smallint_val: Integer
      int_val: Integer
      bigint_val: BigInt
      decimal_val: Float
      numeric_val: Float
      real_val: Float
      double_val: Float
      # String types
      char_val: String
      varchar_val: String
      text_val: String
      uuid_val: UUID
      # Date/Time types
      date_val: Date
      time_val: Time
      timestamp_val: Timestamp
      timestamptz_val: Timestamp
      # JSON types
      json_val: JSON
      jsonb_val: JSON